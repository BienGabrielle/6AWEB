<div class="page">
  <form class="form-card" [formGroup]="form" (ngSubmit)="onSubmit()">

    <input placeholder="Username" formControlName="username" />
    @if (isInvalid('username')) {
      <small class="error">Username: 4-12 chars (letters/numbers/_)</small>
    }

    <input type="email" placeholder="Email" formControlName="email" />
    @if (isInvalid('email')) {
      <small class="error">Enter a valid email</small>
    }

    <input type="password" placeholder="Password" formControlName="password" />
    @if (isInvalid('password')) {
      <small class="error">Password: 8+ with upper, lower, number</small>
    }

    <select formControlName="role">
      <option value="" disabled>Select Role</option>
      @for (r of roles; track r) {
        <option [value]="r">{{ r }}</option>
      }
    </select>

    <div class="radio-group">
      <p class="label">Gender</p>

      <label>
        <input
          type="radio"
          name="gender"
          value="Male"
          formControlName="gender"
        />
        Male
      </label>

      <label>
        <input
          type="radio"
          name="gender"
          value="Female"
          formControlName="gender"
        />
        Female
      </label>

      <label>
        <input
          type="radio"
          name="gender"
          value="Other"
          formControlName="gender"
        />
        Other
      </label>
    </div>


    <select formControlName="status">
      <option value="" disabled>Select Status</option>
      <option value="Permanent">Permanent</option>
      <option value="Probationary">Probationary</option>
    </select>

    <textarea
      rows="3"
      placeholder="Comments / Notes"
      formControlName="comments"
    ></textarea>

    <button type="submit" [disabled]="form.invalid">
      Submit
    </button>

  </form>
  <div *ngIf="submittedData" class="output-card">
    <h3>Submitted Data</h3>
    <pre>{{ submittedData | json }}</pre>
  </div>
</div>
